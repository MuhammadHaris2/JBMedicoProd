import{$ as Wt,G as L,H as Et,I as J,J as Rt,K as Tt,L as X,M as At,N as It,O as kt,P as Y,Q as Z,R as Ot,S as $,T as tt,U as Vt,V as Lt,W as et,X as it,Y as Bt,Z as B,_ as Nt,aa as qt,ba as N,ca as nt,da as v,e as z,ea as ot,fa as at,ga as rt,h as ht,ha as lt,i as K,ia as dt,ja as mt,k as G,ka as ct,la as st,ma as pt,na as ut,o as U,oa as jt,q as vt,t as bt}from"./chunk-JLY4G776.js";import"./chunk-PVH7Q34H.js";import{Fb as r,Gb as a,Hb as P,I as H,Ib as C,Jb as x,Lb as M,N as F,Ob as h,Qb as s,Rc as wt,Sc as V,Ub as T,Uc as Mt,Vb as A,Vc as Dt,Wb as I,Wc as Pt,Xb as ft,Yb as d,Zb as E,_b as D,ab as m,ac as y,bb as g,bc as S,cc as w,ic as k,ja as R,jc as O,ka as xt,kc as Q,ma as p,na as u,s as b,tb as f,ua as yt,vb as _,xb as St,z as j}from"./chunk-WVJGIKHI.js";import{a as q}from"./chunk-CQCHLVVT.js";function te(i,l){if(i&1){let n=M();C(0),r(1,"div",6)(2,"div",7)(3,"mat-form-field",8)(4,"mat-label"),d(5,"Name"),a(),r(6,"input",9),w("ngModelChange",function(t){p(n);let o=s();return S(o.model.productName,t)||(o.model.productName=t),u(t)}),a()()(),r(7,"div",7)(8,"mat-form-field",8)(9,"mat-label"),d(10,"Quantity"),a(),r(11,"input",10),w("ngModelChange",function(t){p(n);let o=s();return S(o.model.quantity,t)||(o.model.quantity=t),u(t)}),a()()(),r(12,"div",7)(13,"mat-form-field",8)(14,"mat-label"),d(15,"Cost Rate"),a(),r(16,"input",11),w("ngModelChange",function(t){p(n);let o=s();return S(o.model.costRate,t)||(o.model.costRate=t),u(t)}),a()()(),r(17,"div",7)(18,"mat-form-field",8)(19,"mat-label"),d(20,"Sell Rate"),a(),r(21,"input",12),w("ngModelChange",function(t){p(n);let o=s();return S(o.model.sellRate,t)||(o.model.sellRate=t),u(t)}),a()()(),r(22,"div",13)(23,"mat-form-field",8)(24,"mat-label"),d(25,"Remarks"),a(),r(26,"input",14),w("ngModelChange",function(t){p(n);let o=s();return S(o.model.remarks,t)||(o.model.remarks=t),u(t)}),a()()()(),x()}if(i&2){let n=s();m(6),y("ngModel",n.model.productName),m(5),y("ngModel",n.model.quantity),m(5),y("ngModel",n.model.costRate),m(5),y("ngModel",n.model.sellRate),m(5),y("ngModel",n.model.remarks)}}function ee(i,l){if(i&1){let n=M();C(0),r(1,"div",28)(2,"div",29)(3,"app-autocomplete",30),w("mhModelChange",function(t){let c=p(n).$implicit;return S(c.productName,t)||(c.productName=t),u(t)}),a()(),r(4,"div",29)(5,"mat-form-field",8)(6,"mat-label"),d(7,"Quantity"),a(),r(8,"input",31),h("focusout",function(){let o=p(n).$implicit,c=s(2);return u(c.calQty(o))}),w("ngModelChange",function(t){let c=p(n).$implicit;return S(c.quantity,t)||(c.quantity=t),u(t)}),a()()(),r(9,"div",29)(10,"mat-form-field",8)(11,"mat-label"),d(12,"Rate"),a(),r(13,"input",32),h("keyup",function(){p(n);let t=s(2);return u(t.calculation())}),w("ngModelChange",function(t){let c=p(n).$implicit;return S(c.price,t)||(c.price=t),u(t)}),a()()(),r(14,"div",29)(15,"mat-form-field",8)(16,"mat-label"),d(17,"Amount"),a(),r(18,"input",33),w("ngModelChange",function(t){let c=p(n).$implicit;return S(c.amount,t)||(c.amount=t),u(t)}),a()()()(),x()}if(i&2){let n=l.$implicit,e=s(2);m(3),_("options",e.ProductConfig)("dataSource",e.productList),y("mhModel",n.productName),m(5),y("ngModel",n.quantity),m(5),y("ngModel",n.price),m(5),y("ngModel",n.amount)}}function ie(i,l){if(i&1){let n=M();r(0,"p",34),h("click",function(){p(n);let t=s(2);return u(t.DeleteOrderDetail())}),d(1,"Remove Last Row"),a()}}function ne(i,l){if(i&1){let n=M();r(0,"div",6)(1,"div",15)(2,"mat-form-field",8)(3,"mat-label"),d(4,"Order Name"),a(),r(5,"input",16),w("ngModelChange",function(t){p(n);let o=s();return S(o.model.orderName,t)||(o.model.orderName=t),u(t)}),a()()(),r(6,"div",15)(7,"mat-form-field",8)(8,"mat-label"),d(9,"Order Date"),a(),r(10,"input",17),w("ngModelChange",function(t){p(n);let o=s();return S(o.orderDate,t)||(o.orderDate=t),u(t)}),a(),P(11,"mat-datepicker-toggle",18)(12,"mat-datepicker",null,19),a()(),r(14,"div",15)(15,"mat-form-field",8)(16,"mat-label"),d(17,"Discount Amount"),a(),r(18,"input",20),w("ngModelChange",function(t){p(n);let o=s();return S(o.model.discountAmount,t)||(o.model.discountAmount=t),u(t)}),a()()(),r(19,"div",13)(20,"h2",21),d(21,"Order Details"),a()(),r(22,"div",13),f(23,ee,19,6,"ng-container",22),a(),r(24,"div",23)(25,"div",24)(26,"p",25),h("click",function(){p(n);let t=s();return u(t.AddOrderDetail())}),d(27,"Add Row"),a(),f(28,ie,2,0,"p",26),a(),r(29,"div")(30,"p",27),d(31),k(32,"number"),a(),r(33,"p",27),d(34),k(35,"number"),a(),r(36,"p",27),d(37),k(38,"number"),a()()()()}if(i&2){let n=ft(13),e=s();m(5),y("ngModel",e.model.orderName),m(5),_("matDatepicker",n),y("ngModel",e.orderDate),m(),_("for",n),m(7),y("ngModel",e.model.discountAmount),m(5),_("ngForOf",e.orderDetail),m(5),_("ngIf",e.orderDetail&&e.orderDetail.length>1),m(3),D("Total Amount: ",e.model.totalAmount?O(32,10,e.model.totalAmount):0,""),m(3),D("Discount Amount: ",e.model.discountAmount?O(35,12,e.model.discountAmount):0,""),m(3),D("Bill Amount: ",O(38,14,e.billedAmount),"")}}var _t=(()=>{let l=class l{constructor(e,t,o,c){this.dialogRef=e,this.data=t,this._snackBar=o,this._dashboard=c,this.Title="",this.model={},this.loader=!1,this.orderDate=new Date,this.orderDetail=[],this.productList=[]=[{productName:"Car"},{productName:"Bus"}],this.ProductConfig=new Lt,this.Title=t.title}get isProduct(){return this.data&&this.data.isProduct}close(e){this.dialogRef.close(e)}calQty(e){e.quantity||(e.quantity=1),this.calculation()}get billedAmount(){let e=this.model.totalAmount||0;return this.model.totalAmount>0&&this.model.discountAmount>0&&(e=this.model.totalAmount-this.model.discountAmount),e}calculation(){this.model.totalAmount=0,this.orderDetail.forEach(e=>{e.quantity>0&&e.price>0&&(e.amount=e.quantity*e.price,this.model.totalAmount+=e.amount)})}AddOrderDetail(){(!this.orderDetail||this.orderDetail.length<1)&&(this.orderDetail=[]),this.orderDetail.push(new gt)}DeleteOrderDetail(){this.orderDetail.length>0&&this.orderDetail.pop()}openSnackBar(e,t="OK"){this._snackBar.open(e,t)}EditData(){let e=this.data.editData;this.isProduct&&(this.model.productName=e.productName||"",this.model.quantity=e.quantity||0,this.model.costRate=e.costRate||0,this.model.sellRate=e.sellRate||0,this.model.remarks=e.remarks||"")}save(){this.isProduct&&this.SaveProduct()}SaveProduct(){if(!this.model.productName)return this.openSnackBar("Product Name is Required");if(!this.model.quantity||this.model.quantity<0)return this.openSnackBar("Quantity is Required");if(!this.model.costRate||this.model.costRate<0)return this.openSnackBar("Cost Rate is Required");if(!this.model.sellRate||this.model.sellRate<0)return this.openSnackBar("Sell Rate is Required");let e={productName:this.model.productName,quantity:this.model.quantity,costRate:this.model.costRate,sellRate:this.model.sellRate,remarks:this.model.remarks||""};this.loader=!0,this.data&&this.data.editData&&this.data.editData.id?this._dashboard.update(this.data.editData.id,e).then(()=>{this.openSnackBar("Successfully Updated"),this.loader=!1,this.close(!0)}).catch(t=>{this.loader=!1,this.close(!0),this.openSnackBar(t)}):this._dashboard.create(e).then(()=>{this.openSnackBar("Successfully Saved"),this.loader=!1,this.close(!0)})}GetProductData(){this._dashboard.getAll().snapshotChanges().pipe(b(e=>e.map(t=>q({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(e=>{console.log({data:e})})}initConfig(){this.ProductConfig.DisplayField="productName",this.ProductConfig.ValueField="productName",this.ProductConfig.Key="",this.ProductConfig.Label="Product Name",this.ProductConfig.helpText="Type letter to Search",this.ProductConfig.searchType="local",this.ProductConfig.onChange=e=>{console.log({event:e})}}ngOnInit(){this.initConfig(),this.isProduct||this.AddOrderDetail(),this.data.editData&&this.EditData()}};l.\u0275fac=function(t){return new(t||l)(g(Rt),g(Tt,8),g(B),g(L))},l.\u0275cmp=R({type:l,selectors:[["app-add-product"]],decls:14,vars:6,consts:[[1,"header","p-3"],["mat-dialog-close","","mat-icon-button",""],[4,"ngIf","ngIfElse"],["orderRef",""],[1,"d-flex","justify-content-end","w-100","px-3"],["mat-flat-button","",3,"disabled","click"],[1,"row"],[1,"col-md-6"],[1,"w-100"],["required","","type","test","matInput","","placeholder","Product Name",3,"ngModel","ngModelChange"],["required","","type","number","matInput","","placeholder","Quantity",3,"ngModel","ngModelChange"],["required","","type","number","matInput","","placeholder","Cost Rate",3,"ngModel","ngModelChange"],["required","","type","number","matInput","","placeholder","Sell Rate",3,"ngModel","ngModelChange"],[1,"col-md-12"],["type","test","matInput","","placeholder","Remarks",3,"ngModel","ngModelChange"],[1,"col-md-4"],["type","test","matInput","","placeholder","Order Name",3,"ngModel","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["type","number","matInput","","placeholder","Discount Amount",3,"ngModel","ngModelChange"],[1,"mb-0","mt-2"],[4,"ngFor","ngForOf"],[1,"col-md-12","mt-3","d-flex","justify-content-between","footerP"],[1,"d-flex","align-items-center","addRow"],[1,"me-3",3,"click"],[3,"click",4,"ngIf"],[1,"mb-1"],[1,"row","mx-0","px-0","col-md-12","detailRow"],[1,"col-md-3"],[3,"options","dataSource","mhModel","mhModelChange"],["type","number","matInput","","placeholder","Quantity",3,"ngModel","focusout","ngModelChange"],["type","number","matInput","","placeholder","Rate",3,"ngModel","keyup","ngModelChange"],["type","number","disabled","","matInput","","placeholder","Amount",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,o){if(t&1&&(r(0,"div",0)(1,"h1"),d(2),a(),r(3,"button",1)(4,"mat-icon"),d(5,"close"),a()()(),r(6,"mat-dialog-content"),f(7,te,27,5,"ng-container",2)(8,ne,39,16,"ng-template",null,3,Q),a(),r(10,"mat-dialog-actions")(11,"div",4)(12,"button",5),h("click",function(){return o.save()}),d(13,"Save"),a()()()),t&2){let c=ft(9);m(2),E(o.Title),m(5),_("ngIf",o.isProduct)("ngIfElse",c),m(5),St("spinner",o.loader),_("disabled",o.loader)}},dependencies:[wt,V,et,Bt,tt,$,Z,Ot,Nt,Wt,qt,N,At,kt,It,Vt,K,vt,G,bt,U,Dt],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0!important;font-weight:500}.mdc-button[_ngcontent-%COMP%]:not([disabled]){background:#696969!important;color:#fff!important}.detailRow[_ngcontent-%COMP%]{margin-bottom:5px;padding-top:2px;border:1px solid #d8d8d8}.footerP[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.footerP[_ngcontent-%COMP%]   .addRow[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}"]});let i=l;return i})(),gt=class{constructor(){this.quantity=1,this.price=0,this.amount=0}};var de=["inputSearch"];function me(i,l){i&1&&P(0,"th",24)}function ce(i,l){if(i&1){let n=M();r(0,"mat-icon",28),h("click",function(){p(n);let t=s().$implicit,o=s();return u(o.AddProduct(t))}),d(1,"edit"),a()}}function se(i,l){if(i&1){let n=M();r(0,"mat-icon",29),h("click",function(){p(n);let t=s().$implicit,o=s();return u(o.DeleteProduct(t))}),d(1,"delete"),a()}}function pe(i,l){if(i&1&&(r(0,"td",25),f(1,ce,2,0,"mat-icon",26)(2,se,2,0,"mat-icon",27),a()),i&2){let n=s();m(),_("ngIf",n.isAdmin),m(),_("ngIf",n.isAdmin)}}function ue(i,l){i&1&&(r(0,"th",24),d(1," Name "),a())}function _e(i,l){if(i&1&&(r(0,"td",30),d(1),a()),i&2){let n=l.$implicit;m(),D(" ",n.productName," ")}}function fe(i,l){i&1&&(r(0,"th",24),d(1," Quantity "),a())}function he(i,l){if(i&1&&(r(0,"td",30),d(1),a()),i&2){let n=l.$implicit;m(),D(" ",n.quantity," ")}}function ge(i,l){i&1&&(r(0,"th",24),d(1," Cost Rate "),a())}function Ce(i,l){if(i&1&&(r(0,"td",30),d(1),a()),i&2){let n=l.$implicit;m(),D(" ",n.costRate," ")}}function xe(i,l){i&1&&(r(0,"th",24),d(1," Sell Rate "),a())}function ye(i,l){if(i&1&&(r(0,"td",30),d(1),a()),i&2){let n=l.$implicit;m(),D(" ",n.sellRate," ")}}function Se(i,l){i&1&&P(0,"tr",31)}function we(i,l){i&1&&P(0,"tr",32)}function Me(i,l){if(i&1){let n=M();r(0,"div",33)(1,"mat-paginator",34,35),h("page",function(t){p(n);let o=s();return u(o.PageChange(t))}),a()()}if(i&2){let n=s();m(),_("length",n.length)("pageSize",n.pageSize)}}function De(i,l){if(i&1&&(C(0),r(1,"div",43),d(2,"Name"),a(),r(3,"div",44),d(4),a(),r(5,"div",43),d(6,"Relation"),a(),r(7,"div",44),d(8),a(),x()),i&2){let n=s(2);m(4),E(n.viewRowData.name),m(4),E(n.viewRowData.relation)}}function Pe(i,l){if(i&1){let n=M();r(0,"div",45)(1,"mat-form-field",46)(2,"mat-label"),d(3,"Name"),a(),r(4,"input",47),w("ngModelChange",function(t){p(n);let o=s(2);return S(o.editRowName,t)||(o.editRowName=t),u(t)}),a()()()}if(i&2){let n=s(2);m(4),y("ngModel",n.editRowName)}}function ve(i,l){if(i&1){let n=M();r(0,"button",48),h("click",function(){p(n);let t=s(2);return u(t.edit())}),d(1,"Edit"),a()}}function be(i,l){if(i&1){let n=M();r(0,"div",36)(1,"h2",37),d(2),a(),f(3,De,9,2,"ng-container",38)(4,Pe,5,1,"div",39),r(5,"div",40)(6,"button",41),h("click",function(){p(n);let t=s();return u(t.closeDialog())}),d(7),a(),f(8,ve,2,0,"button",42),a()()}if(i&2){let n=s();m(2),E(n.title),m(),_("ngIf",n.tab==1),m(),_("ngIf",n.tab==2),m(3),E(n.tab==1?"OK":"Close"),m(),_("ngIf",n.tab==2)}}var Ut=(()=>{let l=class l{constructor(e,t,o,c){this.router=e,this._dashboard=t,this.matDialog=o,this._snackBar=c,this.productList=[],this.title="",this.isAdmin=!1,this.forLocalSearch=[],this.displayedColumns=["more","name","quantity","costRate","sellRate"],this.pageSize=10,this.length=0;let W=this._dashboard.getLocalStorage("login");if(W){let Xt=JSON.parse(W);this.isAdmin=Xt.role==Et.Admin}}AddProduct(e){let t=new J;t.width="600px",t.data={title:e?"Edit Product":"Add Product",isProduct:!0,editData:Object.assign({},e)},this.matDialog.open(_t,t).afterClosed().subscribe(c=>{})}openSnackBar(e,t="\xD6K"){this._snackBar.open(e,t)}getFamilyData(){this.productList=this._dashboard.getFamily(),this.forLocalSearch=[...this.productList],this.length=this.productList.length,this.pagination(1)}deleteData(e){this._dashboard.deleteFamilyData(e,this.productList),this.productList=[...this.productList]}openModel(e,t,o,c,W){this.title=c,this.tab=W,this.viewRowData=t,this.editRowName=t.name,this.editRowIndex=o,this.dialogOpen(e)}edit(){if(!this.editRowName)return this.openSnackBar("Name is Required","OK");this.productList[this.editRowIndex].name=this.editRowName,this.closeDialog()}dialogOpen(e){this.dialogRef=e,this.matDialog.open(this.dialogRef)}closeDialog(){this.matDialog.closeAll()}localSearch(e,t,o){this.productList=Y.SearchBySpecificKeyInData(e,t,o),t||(this.productList=[...this.forLocalSearch])}PageChange(e){this.pagination(e.pageIndex+1)}pagination(e){let t=0;e>0&&(t=e*this.pageSize),this.productList=[...this.forLocalSearch.slice(t-this.pageSize,t)]}DeleteProduct(e){e.id&&this._dashboard.delete(e.id).then(()=>{this.GetProductData(),this.openSnackBar("The Product was deleted successfully!","OK")}).catch(t=>this.openSnackBar(t,"OK"))}GetProductData(){this.productList=[],this._dashboard.getAll().snapshotChanges().pipe(b(e=>e.map(t=>q({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(e=>{this.productList=e,this.forLocalSearch=[...this.productList],this.length=this.productList.length,this.pagination(1)})}ngOnInit(){this.GetProductData()}ngAfterViewInit(){j(this.inputSearch.nativeElement,"keyup").pipe(b(e=>e.target.value),H(400),F()).subscribe(e=>{this.localSearch("productName",e,this.forLocalSearch)})}};l.\u0275fac=function(t){return new(t||l)(g(z),g(L),g(X),g(B))},l.\u0275cmp=R({type:l,selectors:[["app-product"]],viewQuery:function(t,o){if(t&1&&(T(de,5),T(v,5)),t&2){let c;A(c=I())&&(o.inputSearch=c.first),A(c=I())&&(o.paginator=c.first)}},decls:35,vars:5,consts:[[1,"w-100"],[1,"d-flex","justify-content-between","align-items-center","searchMargin"],[1,"100"],[1,"d-flex","align-items-center"],[1,"heading"],["mat-mini-fab","","matTooltip","Add product",1,"ms-2",2,"background","dimgray",3,"click"],[1,"input-group","justify-content-end"],[1,"form-outline"],["mat-input","","type","search","placeholder","Type letter for Search",1,"form-control"],["inputSearch",""],[1,"mat-elevation-z8","ov-auto"],["mat-table","",1,"width-min-100","w-max-content",3,"dataSource"],["matColumnDef","more"],["mat-header-cell","",4,"matHeaderCellDef"],["class","td-more","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","costRate"],["matColumnDef","sellRate"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mt-2",4,"ngIf"],["modelDialog",""],["mat-header-cell",""],["mat-cell","",1,"td-more"],["class","me-3 cursor-pointer",3,"click",4,"ngIf"],["class","cursor-pointer text-danger",3,"click",4,"ngIf"],[1,"me-3","cursor-pointer",3,"click"],[1,"cursor-pointer","text-danger",3,"click"],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mt-2"],[3,"length","pageSize","page"],["MatPaginator",""],[1,"row"],[1,"paddingHeading","col-12"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","text-right"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary","class","ms-2",3,"click",4,"ngIf"],[1,"col-3"],[1,"col-9"],[1,"col-12"],["appearance","fill",1,"w-100"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"],["mat-flat-button","","color","primary",1,"ms-2",3,"click"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),d(5,"Products"),a(),r(6,"button",5),h("click",function(){return o.AddProduct()}),r(7,"mat-icon"),d(8,"add"),a()()()(),r(9,"div",6)(10,"div",7),P(11,"input",8,9),a()()(),r(13,"div",10)(14,"table",11),C(15,12),f(16,me,1,0,"th",13)(17,pe,3,2,"td",14),x(),C(18,15),f(19,ue,2,0,"th",13)(20,_e,2,1,"td",16),x(),C(21,17),f(22,fe,2,0,"th",13)(23,he,2,1,"td",16),x(),C(24,18),f(25,ge,2,0,"th",13)(26,Ce,2,1,"td",16),x(),C(27,19),f(28,xe,2,0,"th",13)(29,ye,2,1,"td",16),x(),f(30,Se,1,0,"tr",20)(31,we,1,0,"tr",21),a()(),f(32,Me,3,2,"div",22),a(),f(33,be,9,5,"ng-template",null,23,Q)),t&2&&(m(14),_("dataSource",o.productList),m(16),_("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),m(),_("matRowDefColumns",o.displayedColumns),m(),_("ngIf",o.productList&&o.productList.length>0))},dependencies:[V,et,it,tt,$,Z,N,nt,ot,rt,ct,lt,at,st,dt,mt,pt,ut,v,K,G,U],styles:[".paddingHeading[_ngcontent-%COMP%]{padding:0 15px}.searchMargin[_ngcontent-%COMP%]{margin:10px 0}"]});let i=l;return i})();var Ee=["inputSearch"];function Re(i,l){i&1&&P(0,"th",22)}function Te(i,l){i&1&&(r(0,"td",23)(1,"mat-icon"),d(2,"more_vert"),a()())}function Ae(i,l){i&1&&(r(0,"th",22),d(1," Name "),a())}function Ie(i,l){if(i&1&&(r(0,"td",24),d(1),a()),i&2){let n=l.$implicit;m(),D(" ",n.name," ")}}function ke(i,l){i&1&&(r(0,"th",22),d(1," Order Date "),a())}function Oe(i,l){if(i&1&&(r(0,"td",24),d(1),k(2,"date"),a()),i&2){let n=l.$implicit;m(),D(" ",n.orderDate?O(2,1,n.orderDate):""," ")}}function Ve(i,l){i&1&&(r(0,"th",22),d(1," Total Amount "),a())}function Le(i,l){if(i&1&&(r(0,"td",24),d(1),a()),i&2){let n=l.$implicit;m(),D(" ",n.totalAmount," ")}}function Be(i,l){i&1&&P(0,"tr",25)}function Ne(i,l){i&1&&P(0,"tr",26)}function We(i,l){if(i&1){let n=M();r(0,"div",27)(1,"mat-paginator",28,29),h("page",function(t){p(n);let o=s();return u(o.PageChange(t))}),a()()}if(i&2){let n=s();m(),_("length",n.length)("pageSize",n.pageSize)}}var Jt=(()=>{let l=class l{constructor(e,t,o,c){this.router=e,this._dashboard=t,this.matDialog=o,this._snackBar=c,this.orderList=[],this.title="",this.forLocalSearch=[],this.displayedColumns=["more","name","orderDate","totalAmount"],this.pageSize=10,this.length=0}AddOrder(){let e=new J;e.width="1100px",e.data={title:"Add Order"},this.matDialog.open(_t,e).afterClosed().subscribe(o=>{})}openSnackBar(e,t){this._snackBar.open(e,t)}getFamilyData(){this.orderList=this._dashboard.getFamily(),this.forLocalSearch=[...this.orderList],this.length=this.orderList.length,this.pagination(1)}localSearch(e,t,o){this.orderList=Y.SearchBySpecificKeyInData(e,t,o),t||(this.orderList=[...this.forLocalSearch])}PageChange(e){this.pagination(e.pageIndex+1)}pagination(e){let t=0;e>0&&(t=e*this.pageSize),this.orderList=[...this.forLocalSearch.slice(t-this.pageSize,t)]}ngOnInit(){this.getFamilyData()}ngAfterViewInit(){j(this.inputSearch.nativeElement,"keyup").pipe(b(e=>e.target.value),H(400),F()).subscribe(e=>{this.localSearch("name",e,this.forLocalSearch)})}};l.\u0275fac=function(t){return new(t||l)(g(z),g(L),g(X),g(B))},l.\u0275cmp=R({type:l,selectors:[["app-order"]],viewQuery:function(t,o){if(t&1&&(T(Ee,5),T(v,5)),t&2){let c;A(c=I())&&(o.inputSearch=c.first),A(c=I())&&(o.paginator=c.first)}},decls:30,vars:5,consts:[[1,"w-100"],[1,"d-flex","justify-content-between","align-items-center","searchMargin"],[1,"100"],[1,"d-flex","align-items-center"],[1,"heading"],["mat-mini-fab","","matTooltip","Add Order",1,"ms-2",2,"background","dimgray",3,"click"],[1,"input-group","justify-content-end"],[1,"form-outline"],["mat-input","","type","search","placeholder","Type letter for Search",1,"form-control"],["inputSearch",""],[1,"mat-elevation-z8","ov-auto"],["mat-table","",1,"width-min-100","w-max-content",3,"dataSource"],["matColumnDef","more"],["mat-header-cell","",4,"matHeaderCellDef"],["class","td-more","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","orderDate"],["matColumnDef","totalAmount"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mt-2",4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"td-more"],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mt-2"],[3,"length","pageSize","page"],["MatPaginator",""]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),d(5,"Orders"),a(),r(6,"button",5),h("click",function(){return o.AddOrder()}),r(7,"mat-icon"),d(8,"add"),a()()()(),r(9,"div",6)(10,"div",7),P(11,"input",8,9),a()()(),r(13,"div",10)(14,"table",11),C(15,12),f(16,Re,1,0,"th",13)(17,Te,3,0,"td",14),x(),C(18,15),f(19,Ae,2,0,"th",13)(20,Ie,2,1,"td",16),x(),C(21,17),f(22,ke,2,0,"th",13)(23,Oe,3,3,"td",16),x(),C(24,18),f(25,Ve,2,0,"th",13)(26,Le,2,1,"td",16),x(),f(27,Be,1,0,"tr",19)(28,Ne,1,0,"tr",20),a()(),f(29,We,3,2,"div",21),a()),t&2&&(m(14),_("dataSource",o.orderList),m(13),_("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),m(),_("matRowDefColumns",o.displayedColumns),m(),_("ngIf",o.orderList&&o.orderList.length>0))},dependencies:[V,it,N,nt,ot,rt,ct,lt,at,st,dt,mt,pt,ut,v,Mt],styles:[".paddingHeading[_ngcontent-%COMP%]{padding:0 15px}.searchMargin[_ngcontent-%COMP%]{margin:10px 0}"]});let i=l;return i})();var qe=[{path:"",redirectTo:"/dashboard/products",pathMatch:"full"},{path:"products",component:Ut},{path:"orders",component:Jt}],gi=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=xt({type:l}),l.\u0275inj=yt({imports:[Pt,jt,ht.forChild(qe),ht]});let i=l;return i})();export{gi as DashboardModule};
