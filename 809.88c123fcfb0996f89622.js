"use strict";(self.webpackChunklfd_task=self.webpackChunklfd_task||[]).push([[809],{3809:(Nt,w,c)=>{c.r(w),c.d(w,{DashboardModule:()=>St});var u=c(8583),_=c(4655),m=c(2238),v=c(2759),D=c(8002),C=c(4395),A=c(7519),x=c(9386),t=c(7716),J=c(9765);let g=(()=>{class i{static RemoveFromArrayByIndex(e,o){return[...e.slice(0,o),...e.splice(o+1,e.length)]}static getDate(e){if(null!=e&&""!==e){const o=new Date(e),n=i.MONTHS[o.getMonth()],a=o.getDate();return(a<10?"0"+a:a)+" "+n+" "+o.getFullYear().toString().substr(-2)}return"--"}static setDate(e){if(!e)return"";const o=new Date(e);return o.getFullYear()+"-"+(o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1)+"-"+(o.getDate()<10?"0"+o.getDate():o.getDate())+"T00:00:00"}static SearchByUniqueKeyInData(e,o,n){return null!=e&&null!=o?n.find(a=>(null!=a[e]?a[e]+"":"")==o+""):null}static SearchInAllKeysInArray(e,o){return o.filter(n=>Object.keys(n).some(a=>-1!==(n[a]+"").toUpperCase().indexOf(e.toUpperCase())))}static SearchBySpecificKeyInData(e,o,n){return null!=e&&null!=o?n.filter(a=>(null!=a[e]?a[e]+"":"").toUpperCase().includes((o+"").toUpperCase())):[...n]}static toUpperFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static toLowerFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static getInitials(e){let o=e.split(" "),n="";return o.length>1?(n+=o[0]?o[0].charAt(0).toUpperCase():"",n+=o[1]?o[1].charAt(0).toUpperCase():""):1===o.length&&(n+=o[0]?o[0].charAt(0).toUpperCase()+o[0].charAt(0).toUpperCase():""),n}static emailvalidations(e){return!!(e.length>0&&/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e))}static isValidEmail(e){return this.EMAIL_REGIX.test(e)}}return i.CHARS="abcdefghijklmnopqrstuvwxyz0123456789",i.MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i.EMAIL_REGIX=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,i})();var p=c(8295),T=c(9983),s=c(3679),b=c(1554),U=c(2458),M=c(8341),h=c(1552);function F(i,l){if(1&i&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&i){const e=l.$implicit,o=t.oxw(2);t.Q6J("value",o.options.IsOwnValue?e:e[o.options.ValueField]),t.xp6(1),t.hij(" ",e[o.options.DisplayField]," ")}}function Q(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-form-field",2),t.TgZ(1,"input",3,4),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().mhModelChange.emit(n)})("keyup",function(n){t.CHM(e);const a=t.MAs(2);return t.oxw().change(a.value,n)})("foucusout",function(){t.CHM(e);const n=t.MAs(2);return t.oxw().clearText(n)}),t.qZA(),t.TgZ(3,"mat-hint"),t._uU(4),t.qZA(),t.TgZ(5,"mat-autocomplete",5,6),t.NdJ("optionSelected",function(n){return t.CHM(e),t.oxw().OnChange(n)}),t.YNc(7,F,2,2,"mat-option",7),t.qZA(),t.TgZ(8,"span",8),t.Hsn(9),t.qZA(),t.TgZ(10,"span",9),t.Hsn(11,1),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(2),o=t.MAs(6),n=t.oxw();t.xp6(1),t.Q6J("name",n.options.Key)("placeholder",n.options.Label)("ngModel",n.mhModel)("matAutocomplete",o)("required",n.required)("disabled",n.disabled),t.xp6(3),t.Oqu(n.options.helpText),t.xp6(1),t.Q6J("displayWith",n.displayFn(n.options,e.value)),t.xp6(2),t.Q6J("ngForOf",n.filterDataSource)}}function R(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",17),t.NdJ("removed",function(){const a=t.CHM(e).$implicit;return t.oxw(2).ChipboxRemove(a)}),t.TgZ(1,"span",18),t._uU(2),t.qZA(),t.TgZ(3,"mat-icon",19),t._uU(4," cancel"),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,o=t.oxw(2);t.Q6J("selectable",!1)("removable",!0),t.xp6(2),t.Oqu(e[o.options.ChipDisplayField])}}function I(i,l){if(1&i&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&i){const e=l.$implicit,o=t.oxw(2);t.Q6J("value",o.options.IsOwnValue?e:e[o.options.ValueField]),t.xp6(1),t.hij(" ",e[o.options.DisplayField]," ")}}function k(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-form-field",11),t.TgZ(1,"mat-chip-list",null,12),t.YNc(3,R,5,3,"mat-chip",13),t.TgZ(4,"input",14,15),t.NdJ("keyup",function(){t.CHM(e);const n=t.MAs(5);return t.oxw().change(n.value)}),t.qZA(),t.qZA(),t.TgZ(6,"mat-autocomplete",5,16),t.NdJ("optionSelected",function(n){t.CHM(e);const a=t.MAs(5);return t.oxw().AddToAutoChip(n,a)}),t.YNc(8,I,2,2,"mat-option",7),t.qZA(),t.TgZ(9,"span",8),t.Hsn(10,2),t.qZA(),t.TgZ(11,"span",9),t.Hsn(12,3),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(2),o=t.MAs(7),n=t.oxw();t.xp6(3),t.Q6J("ngForOf",n.mhModel),t.xp6(1),t.Q6J("matAutocomplete",o)("placeholder",n.options.Label)("name",n.options.Key)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",n.autoseperateKeyCodes)("disabled",n.disabled),t.xp6(2),t.Q6J("displayWith",n.displayFn(n.options)),t.xp6(2),t.Q6J("ngForOf",n.filterDataSource)}}function H(i,l){if(1&i&&t._UZ(0,"mat-option",10),2&i){const e=l.$implicit,o=t.oxw(2);t.Q6J("value",o.options.IsOwnValue?e:e[o.options.ValueField])}}function L(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-form-field",2),t.TgZ(1,"input",3,4),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().mhModelChange.emit(n)})("keyup",function(){t.CHM(e);const n=t.MAs(2);return t.oxw().change(n.value)})("foucusout",function(){t.CHM(e);const n=t.MAs(2);return t.oxw().clearText(n)}),t.qZA(),t.TgZ(3,"mat-hint"),t._uU(4),t.qZA(),t.TgZ(5,"mat-autocomplete",5,6),t.NdJ("optionSelected",function(n){return t.CHM(e),t.oxw().OnChange(n)}),t.YNc(7,H,1,1,"mat-option",7),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(6),o=t.oxw();t.xp6(1),t.Q6J("name",o.options.Key)("placeholder",o.options.Label)("ngModel",o.mhModel)("matAutocomplete",e)("required",o.required)("disabled",o.disabled),t.xp6(3),t.Oqu(o.options.helpText),t.xp6(1),t.Q6J("displayWith",o.displayFn(o.options)),t.xp6(2),t.Q6J("ngForOf",o.filterDataSource)}}const Y=[[["","matSuffix",""]],[["","matPrefix",""]],[["","matSuffix",""]],[["","matPrefix",""]]],j=["[matSuffix]","[matPrefix]","[matSuffix]","[matPrefix]"];let E=(()=>{class i{constructor(){this.mhModel=null,this.required=!1,this.mhModelChange=new t.vpe,this.Search=new t.vpe,this.options=new S,this._dataSource=[],this.SearchChange=new J.xQ,this.filterDataSource=[],this.autoseperateKeyCodes=[],this.disabled=!1}set dataSource(e){this._dataSource=e,this.filterDataSource=e}get dataSource(){return this._dataSource}displayFn(e,o){return n=>{if(e.IsOwnValue)return n?n[e.DisplayField]:o;const a=Array.isArray(this.dataSource)?this.dataSource.find(r=>r[e.ValueField]==n):null;return a?a[e.DisplayField]:""}}toLowerCase(e){return e}change(e,o){if(!o||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control","Alt","Shift"].includes(o.key)){if("api"===this.options.searchType)return e.length<this.options.minChar?void(this.dataSource=[]):void this.SearchChange.next(e);null===this.dataSource||this.dataSource.length<1?this.SearchChange.next(""):this.filterDataSource=g.SearchInAllKeysInArray(e,this.dataSource)}}OnChange(e){this.options.onChange&&this.options.onChange(e)}AddToAutoChip(e,o){const n=this.options,a=e.option.viewValue,r=e.option.value;n.DisplayField&&(this.mhModel?this.mhModel.push({[n.ChipDisplayField]:a,[n.ChipValueField]:r}):this.mhModel=[{[n.ChipDisplayField]:a,[n.ChipValueField]:r}]),o&&(o.value="")}ChipboxRemove(e){if(this.options.DisplayField){const n=this.mhModel.indexOf(e);n>=0&&this.mhModel.splice(n,1)}}clearText(e){this.onFocusOut(e)}onFocusOut(e){setTimeout(()=>{if(this.options.IsOwnValue){if(this.mhModel){if(this.mhModel[this.options.ValueField])return;return e.value=null,this.mhModel=null,void this.mhModelChange.emit(null)}return e.value?(this.mhModel=null,this.mhModelChange.emit(null),void(e.value=null)):void 0}const o=e.value;let n=g.SearchInAllKeysInArray(o+"",this.filterDataSource);if(n&&n.length>0){n=n[0];const a=this.options.IsOwnValue?n:n[this.options.ValueField],r=n[this.options.DisplayField];(a!==this.mhModel||r!==o)&&(this.mhModel=null,e.value=r,this.mhModel=a,this.mhModelChange.emit(a),this.OnChange(a))}else e.value=null,this.mhModel=null,this.mhModelChange.emit(null)},700)}ngOnInit(){this.subscription=this.SearchChange.pipe((0,C.b)(200),(0,A.x)()).subscribe(e=>{if("local"===this.options.searchType&&Array.isArray(this.options.dataSource)&&this.options.dataSource.length>0){const o=(e+"").toUpperCase();this.filterDataSource=this.options.dataSource.filter(n=>Object.keys(n).some(r=>(n[r]+"").toUpperCase().startsWith(o)))}else this.Search.emit(e)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-autocomplete"]],inputs:{mhModel:"mhModel",required:"required",options:"options",dataSource:"dataSource",disabled:"disabled"},outputs:{mhModelChange:"mhModelChange",Search:"Search"},ngContentSelectors:j,decls:3,vars:3,consts:[["class","w-100 m-b-10",4,"ngIf"],["class","chiplist w-100 m-b-10",4,"ngIf"],[1,"w-100","m-b-10"],["type","text","matInput","",3,"name","placeholder","ngModel","matAutocomplete","required","disabled","ngModelChange","keyup","foucusout"],["itemSearch",""],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],["matPrefix",""],[3,"value"],[1,"chiplist","w-100","m-b-10"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text",3,"matAutocomplete","placeholder","name","matChipInputFor","matChipInputSeparatorKeyCodes","disabled","keyup"],["chipSearch",""],["chipauto","matAutocomplete"],[3,"selectable","removable","removed"],[1,"elipsis"],["matChipRemov",""]],template:function(e,o){1&e&&(t.F$t(Y),t.YNc(0,Q,12,9,"mat-form-field",0),t.YNc(1,k,13,9,"mat-form-field",1),t.YNc(2,L,8,9,"mat-form-field",0)),2&e&&(t.Q6J("ngIf","chipbox"!==o.options.type&&"newAuto"!==o.options.type),t.xp6(1),t.Q6J("ngIf","chipbox"===o.options.type),t.xp6(1),t.Q6J("ngIf","newAuto"===o.options.type))},directives:[u.O5,p.KE,T.Nt,s.Fj,b.ZL,s.JJ,s.On,s.Q7,p.bx,b.XC,u.sg,p.R9,p.qo,U.ey,M.qn,M.oH,M.HS,h.Hw],styles:[".w-100[_ngcontent-%COMP%]{width:100%}.m-b-10[_ngcontent-%COMP%]{margin-bottom:10px}"]}),i})();class S{constructor(){this.Key="",this.Label="",this.DisplayField="",this.ValueField="",this.IsOwnValue=!1,this.disabled=null,this.FlagKey="",this.helpText="",this.searchType="api",this.minChar=0,this.type="text",this.dataSource=[]}}var y=c(1095),q=c(3220);function B(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t.TgZ(3,"mat-form-field",9),t.TgZ(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t.TgZ(6,"input",10),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().model.productName=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",8),t.TgZ(8,"mat-form-field",9),t.TgZ(9,"mat-label"),t._uU(10,"Quantity"),t.qZA(),t.TgZ(11,"input",11),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().model.quantity=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",8),t.TgZ(13,"mat-form-field",9),t.TgZ(14,"mat-label"),t._uU(15,"Cost Rate"),t.qZA(),t.TgZ(16,"input",12),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().model.costRate=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",8),t.TgZ(18,"mat-form-field",9),t.TgZ(19,"mat-label"),t._uU(20,"Sell Rate"),t.qZA(),t.TgZ(21,"input",13),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().model.sellRate=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",14),t.TgZ(23,"mat-form-field",9),t.TgZ(24,"mat-label"),t._uU(25,"Remarks"),t.qZA(),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().model.remarks=n}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.model.productName),t.xp6(5),t.Q6J("ngModel",e.model.quantity),t.xp6(5),t.Q6J("ngModel",e.model.costRate),t.xp6(5),t.Q6J("ngModel",e.model.sellRate),t.xp6(5),t.Q6J("ngModel",e.model.remarks)}}function z(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",29),t.TgZ(2,"div",30),t.TgZ(3,"app-autocomplete",31),t.NdJ("mhModelChange",function(n){return t.CHM(e).$implicit.productName=n}),t.qZA(),t.qZA(),t.TgZ(4,"div",30),t.TgZ(5,"mat-form-field",9),t.TgZ(6,"mat-label"),t._uU(7,"Quantity"),t.qZA(),t.TgZ(8,"input",32),t.NdJ("focusout",function(){const a=t.CHM(e).$implicit;return t.oxw(2).calQty(a)})("ngModelChange",function(n){return t.CHM(e).$implicit.quantity=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",30),t.TgZ(10,"mat-form-field",9),t.TgZ(11,"mat-label"),t._uU(12,"Rate"),t.qZA(),t.TgZ(13,"input",33),t.NdJ("keyup",function(){return t.CHM(e),t.oxw(2).calculation()})("ngModelChange",function(n){return t.CHM(e).$implicit.price=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",30),t.TgZ(15,"mat-form-field",9),t.TgZ(16,"mat-label"),t._uU(17,"Amount"),t.qZA(),t.TgZ(18,"input",34),t.NdJ("ngModelChange",function(n){return t.CHM(e).$implicit.amount=n}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=l.$implicit,o=t.oxw(2);t.xp6(3),t.Q6J("options",o.ProductConfig)("dataSource",o.productList)("mhModel",e.productName),t.xp6(5),t.Q6J("ngModel",e.quantity),t.xp6(5),t.Q6J("ngModel",e.price),t.xp6(5),t.Q6J("ngModel",e.amount)}}function V(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"p",35),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).DeleteOrderDetail()}),t._uU(1,"Remove Last Row"),t.qZA()}}function K(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",16),t.TgZ(2,"mat-form-field",9),t.TgZ(3,"mat-label"),t._uU(4,"Order Name"),t.qZA(),t.TgZ(5,"input",17),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().model.orderName=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",16),t.TgZ(7,"mat-form-field",9),t.TgZ(8,"mat-label"),t._uU(9,"Order Date"),t.qZA(),t.TgZ(10,"input",18),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().orderDate=n}),t.qZA(),t._UZ(11,"mat-datepicker-toggle",19),t._UZ(12,"mat-datepicker",null,20),t.qZA(),t.qZA(),t.TgZ(14,"div",16),t.TgZ(15,"mat-form-field",9),t.TgZ(16,"mat-label"),t._uU(17,"Discount Amount"),t.qZA(),t.TgZ(18,"input",21),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().model.discountAmount=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",14),t.TgZ(20,"h2",22),t._uU(21,"Order Details"),t.qZA(),t.qZA(),t.TgZ(22,"div",14),t.YNc(23,z,19,6,"ng-container",23),t.qZA(),t.TgZ(24,"div",24),t.TgZ(25,"div",25),t.TgZ(26,"p",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().AddOrderDetail()}),t._uU(27,"Add Row"),t.qZA(),t.YNc(28,V,2,0,"p",27),t.qZA(),t.TgZ(29,"div"),t.TgZ(30,"p",28),t._uU(31),t.ALo(32,"number"),t.qZA(),t.TgZ(33,"p",28),t._uU(34),t.ALo(35,"number"),t.qZA(),t.TgZ(36,"p",28),t._uU(37),t.ALo(38,"number"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(13),o=t.oxw();t.xp6(5),t.Q6J("ngModel",o.model.orderName),t.xp6(5),t.Q6J("matDatepicker",e)("ngModel",o.orderDate),t.xp6(1),t.Q6J("for",e),t.xp6(7),t.Q6J("ngModel",o.model.discountAmount),t.xp6(5),t.Q6J("ngForOf",o.orderDetail),t.xp6(5),t.Q6J("ngIf",o.orderDetail&&o.orderDetail.length>1),t.xp6(3),t.hij("Total Amount: ",o.model.totalAmount?t.lcZ(32,10,o.model.totalAmount):0,""),t.xp6(3),t.hij("Discount Amount: ",o.model.discountAmount?t.lcZ(35,12,o.model.discountAmount):0,""),t.xp6(3),t.hij("Bill Amount: ",t.lcZ(38,14,o.billedAmount),"")}}let O=(()=>{class i{constructor(e,o){this.dialogRef=e,this.data=o,this.Title="",this.model={},this.loader=!1,this.orderDate=new Date,this.orderDetail=[],this.productList=[]=[{productName:"Car"},{productName:"Bus"}],this.ProductConfig=new S,this.Title=o.title}get isProduct(){return this.data&&this.data.isProduct}close(e){this.dialogRef.close(e)}calQty(e){e.quantity||(e.quantity=1),this.calculation()}get billedAmount(){let e=this.model.totalAmount||0;return this.model.totalAmount>0&&this.model.discountAmount>0&&(e=this.model.totalAmount-this.model.discountAmount),e}calculation(){this.model.totalAmount=0,this.orderDetail.forEach(e=>{e.quantity>0&&e.price>0&&(e.amount=e.quantity*e.price,this.model.totalAmount+=e.amount)})}AddOrderDetail(){(!this.orderDetail||this.orderDetail.length<1)&&(this.orderDetail=[]),this.orderDetail.push(new $)}DeleteOrderDetail(){this.orderDetail.length>0&&this.orderDetail.pop()}initConfig(){this.ProductConfig.DisplayField="productName",this.ProductConfig.ValueField="productName",this.ProductConfig.Key="",this.ProductConfig.Label="Product Name",this.ProductConfig.helpText="Type letter to Search",this.ProductConfig.searchType="local",this.ProductConfig.onChange=e=>{console.log({event:e})}}ngOnInit(){this.initConfig(),this.isProduct||this.AddOrderDetail()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.so),t.Y36(m.WI,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-product"]],decls:15,vars:6,consts:[["mat-dialog-title",""],[1,"header"],["mat-dialog-close","","mat-icon-button",""],[4,"ngIf","ngIfElse"],["orderRef",""],[1,"d-flex","justify-content-end","w-100"],["mat-flat-button","",3,"disabled"],[1,"row"],[1,"col-md-6"],[1,"w-100"],["type","test","matInput","","placeholder","Product Name",3,"ngModel","ngModelChange"],["type","number","matInput","","placeholder","Quantity",3,"ngModel","ngModelChange"],["type","number","matInput","","placeholder","Cost Rate",3,"ngModel","ngModelChange"],["type","number","matInput","","placeholder","Sell Rate",3,"ngModel","ngModelChange"],[1,"col-md-12"],["type","test","matInput","","placeholder","Remarks",3,"ngModel","ngModelChange"],[1,"col-md-4"],["type","test","matInput","","placeholder","Order Name",3,"ngModel","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["type","number","matInput","","placeholder","Discount Amount",3,"ngModel","ngModelChange"],[1,"mb-0","mt-2"],[4,"ngFor","ngForOf"],[1,"col-md-12","mt-3","d-flex","justify-content-between","footerP"],[1,"d-flex","align-items-center","addRow"],[1,"mr-3",3,"click"],[3,"click",4,"ngIf"],[1,"mb-1"],[1,"row","mx-0","px-0","col-md-12","detailRow"],[1,"col-md-3"],[3,"options","dataSource","mhModel","mhModelChange"],["type","number","matInput","","placeholder","Quantity",3,"ngModel","focusout","ngModelChange"],["type","number","matInput","","placeholder","Rate",3,"ngModel","keyup","ngModelChange"],["type","number","disabled","","matInput","","placeholder","Amount",3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h1"),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t.TgZ(5,"mat-icon"),t._uU(6,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"mat-dialog-content"),t.YNc(8,B,27,5,"ng-container",3),t.YNc(9,K,39,16,"ng-template",null,4,t.W1O),t.qZA(),t.TgZ(11,"mat-dialog-actions"),t.TgZ(12,"div",5),t.TgZ(13,"button",6),t._uU(14,"Save"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(10);t.xp6(3),t.Oqu(o.Title),t.xp6(5),t.Q6J("ngIf",o.isProduct)("ngIfElse",n),t.xp6(5),t.ekj("spinner",o.loader),t.Q6J("disabled",o.loader)}},directives:[m.uh,y.lW,m.ZT,h.Hw,m.xY,u.O5,m.H8,p.KE,p.hX,T.Nt,s.Fj,s.JJ,s.On,s.wV,q.hl,q.nW,p.R9,q.Mq,u.sg,E],pipes:[u.JJ],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0!important;font-weight:500}.mat-flat-button[_ngcontent-%COMP%]:not([disabled]){background:dimgray;color:#fff}.detailRow[_ngcontent-%COMP%]{margin-bottom:5px;padding-top:2px;border:1px solid #d8d8d8}.footerP[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.footerP[_ngcontent-%COMP%]   .addRow[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}"]}),i})();class ${constructor(){this.quantity=1,this.price=0,this.amount=0}}var f=c(9692),N=c(7001),P=c(1436),d=c(2789);const W=["inputSearch"];function G(i,l){1&i&&t._UZ(0,"th",25)}function X(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-icon",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(),a=n.$implicit,r=n.index,Z=t.oxw(),Ot=t.MAs(36);return Z.openModel(Ot,a,r,"Edit Family Info",2)}),t._uU(1,"edit"),t.qZA()}}function tt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-icon",30),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index;return t.oxw().deleteData(n)}),t._uU(1,"delete"),t.qZA()}}function et(i,l){if(1&i&&(t.TgZ(0,"td",26),t.YNc(1,X,2,0,"mat-icon",27),t.YNc(2,tt,2,0,"mat-icon",28),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isAdmin),t.xp6(1),t.Q6J("ngIf",e.isAdmin)}}function ot(i,l){1&i&&(t.TgZ(0,"th",25),t._uU(1," Name "),t.qZA())}function nt(i,l){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function it(i,l){1&i&&(t.TgZ(0,"th",25),t._uU(1," Quantity "),t.qZA())}function at(i,l){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.quantity," ")}}function lt(i,l){1&i&&(t.TgZ(0,"th",25),t._uU(1," Cost Rate "),t.qZA())}function rt(i,l){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.costRate," ")}}function ct(i,l){1&i&&(t.TgZ(0,"th",25),t._uU(1," Sell Rate "),t.qZA())}function dt(i,l){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.sellRate," ")}}function st(i,l){1&i&&t._UZ(0,"tr",32)}function mt(i,l){1&i&&t._UZ(0,"tr",33)}function pt(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"div",41),t._uU(2,"Name"),t.qZA(),t.TgZ(3,"div",42),t._uU(4),t.qZA(),t.TgZ(5,"div",41),t._uU(6,"Relation"),t.qZA(),t.TgZ(7,"div",42),t._uU(8),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.viewRowData.name),t.xp6(4),t.Oqu(e.viewRowData.relation)}}function ut(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",43),t.TgZ(1,"mat-form-field",44),t.TgZ(2,"mat-label"),t._uU(3,"Name"),t.qZA(),t.TgZ(4,"input",45),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).editRowName=n}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.editRowName)}}function _t(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).edit()}),t._uU(1,"Edit"),t.qZA()}}function gt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",34),t.TgZ(1,"h2",35),t._uU(2),t.qZA(),t.YNc(3,pt,9,2,"ng-container",36),t.YNc(4,ut,5,1,"div",37),t.TgZ(5,"div",38),t.TgZ(6,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeDialog()}),t._uU(7),t.qZA(),t.YNc(8,_t,2,0,"button",40),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",1==e.tab),t.xp6(1),t.Q6J("ngIf",2==e.tab),t.xp6(3),t.Oqu(1==e.tab?"OK":"Close"),t.xp6(1),t.Q6J("ngIf",2==e.tab)}}let ht=(()=>{class i{constructor(e,o,n,a){this.router=e,this._dashboard=o,this.matDialog=n,this._snackBar=a,this.productList=[],this.title="",this.isAdmin=!1,this.forLocalSearch=[],this.displayedColumns=["more","name","quantity","costRate","sellRate"],this.pageSize=10,this.length=0;const r=this._dashboard.getLocalStorage("login");if(r){const Z=JSON.parse(r);this.isAdmin=Z.role==x.n.Admin}}AddProduct(){const e=new m.vA;e.width="600px",e.data={title:"Add Product",isProduct:!0},this.matDialog.open(O,e).afterClosed().subscribe(n=>{})}openSnackBar(e,o){this._snackBar.open(e,o)}getFamilyData(){this.productList=this._dashboard.getFamily(),this.forLocalSearch=[...this.productList],this.length=this.productList.length,this.pagination(1)}deleteData(e){this._dashboard.deleteFamilyData(e,this.productList),this.productList=[...this.productList]}openModel(e,o,n,a,r){this.title=a,this.tab=r,this.viewRowData=o,this.editRowName=o.name,this.editRowIndex=n,this.dialogOpen(e)}edit(){if(!this.editRowName)return this.openSnackBar("Name is Required","OK");this.productList[this.editRowIndex].name=this.editRowName,this.closeDialog()}dialogOpen(e){this.dialogRef=e,this.matDialog.open(this.dialogRef)}closeDialog(){this.matDialog.closeAll()}localSearch(e,o,n){this.productList=g.SearchBySpecificKeyInData(e,o,n),o||(this.productList=[...this.forLocalSearch])}PageChange(e){this.pagination(e.pageIndex+1)}pagination(e){let o=0;e>0&&(o=e*this.pageSize),this.productList=[...this.forLocalSearch.slice(o-this.pageSize,o)]}ngOnInit(){this.getFamilyData()}ngAfterViewInit(){(0,v.R)(this.inputSearch.nativeElement,"keyup").pipe((0,D.U)(e=>e.target.value),(0,C.b)(400),(0,A.x)()).subscribe(e=>{this.localSearch("name",e,this.forLocalSearch)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.F0),t.Y36(x.s),t.Y36(m.uw),t.Y36(N.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product"]],viewQuery:function(e,o){if(1&e&&(t.Gf(W,5),t.Gf(f.NW,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.inputSearch=n.first),t.iGM(n=t.CRH())&&(o.paginator=n.first)}},decls:37,vars:6,consts:[[1,"w-100"],[1,"d-flex","justify-content-between","align-items-center","searchMargin"],[1,"100"],[1,"d-flex","align-items-center"],[1,"heading"],["mat-mini-fab","","matTooltip","Add product",1,"ml-2",2,"background","dimgray",3,"click"],[1,"input-group","justify-content-end"],[1,"form-outline"],["mat-input","","type","search","placeholder","Type letter for Search",1,"form-control"],["inputSearch",""],[1,"mat-elevation-z8","ov-auto"],["mat-table","",1,"width-min-100","w-max-content",3,"dataSource"],["matColumnDef","more"],["mat-header-cell","",4,"matHeaderCellDef"],["class","td-more","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","costRate"],["matColumnDef","sellRate"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","page"],["MatPaginator",""],["modelDialog",""],["mat-header-cell",""],["mat-cell","",1,"td-more"],["class","mr-3 cursor-pointer",3,"click",4,"ngIf"],["class","cursor-pointer text-danger",3,"click",4,"ngIf"],[1,"mr-3","cursor-pointer",3,"click"],[1,"cursor-pointer","text-danger",3,"click"],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"row"],[1,"paddingHeading","col-12"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","text-right"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary","class","ml-2",3,"click",4,"ngIf"],[1,"col-3"],[1,"col-9"],[1,"col-12"],["appearance","fill",1,"w-100"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"],["mat-flat-button","","color","primary",1,"ml-2",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h1",4),t._uU(5,"Products"),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return o.AddProduct()}),t.TgZ(7,"mat-icon"),t._uU(8,"add"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t._UZ(11,"input",8,9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"table",11),t.ynx(15,12),t.YNc(16,G,1,0,"th",13),t.YNc(17,et,3,2,"td",14),t.BQk(),t.ynx(18,15),t.YNc(19,ot,2,0,"th",13),t.YNc(20,nt,2,1,"td",16),t.BQk(),t.ynx(21,17),t.YNc(22,it,2,0,"th",13),t.YNc(23,at,2,1,"td",16),t.BQk(),t.ynx(24,18),t.YNc(25,lt,2,0,"th",13),t.YNc(26,rt,2,1,"td",16),t.BQk(),t.ynx(27,19),t.YNc(28,ct,2,0,"th",13),t.YNc(29,dt,2,1,"td",16),t.BQk(),t.YNc(30,st,1,0,"tr",20),t.YNc(31,mt,1,0,"tr",21),t.qZA(),t.qZA(),t.TgZ(32,"div"),t.TgZ(33,"mat-paginator",22,23),t.NdJ("page",function(a){return o.PageChange(a)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(35,gt,9,5,"ng-template",null,24,t.W1O)),2&e&&(t.xp6(14),t.Q6J("dataSource",o.productList),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.length)("pageSize",o.pageSize))},directives:[y.lW,P.gM,h.Hw,d.BZ,d.w1,d.fO,d.Dz,d.as,d.nj,f.NW,d.ge,d.ev,u.O5,d.XQ,d.Gk,p.KE,p.hX,T.Nt,s.Fj,s.JJ,s.On],styles:[".paddingHeading[_ngcontent-%COMP%]{padding:0 15px}.searchMargin[_ngcontent-%COMP%]{margin:10px 0}"]}),i})();var ft=c(4460);const Zt=["inputSearch"];function Ct(i,l){1&i&&t._UZ(0,"th",23)}function At(i,l){1&i&&(t.TgZ(0,"td",24),t.TgZ(1,"mat-icon"),t._uU(2,"more_vert"),t.qZA(),t.qZA())}function xt(i,l){1&i&&(t.TgZ(0,"th",23),t._uU(1," Name "),t.qZA())}function Tt(i,l){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Mt(i,l){1&i&&(t.TgZ(0,"th",23),t._uU(1," Order Date "),t.qZA())}function yt(i,l){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.orderDate?t.lcZ(2,1,e.orderDate):""," ")}}function qt(i,l){1&i&&(t.TgZ(0,"th",23),t._uU(1," Total Amount "),t.qZA())}function wt(i,l){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.totalAmount," ")}}function vt(i,l){1&i&&t._UZ(0,"tr",26)}function Dt(i,l){1&i&&t._UZ(0,"tr",27)}const bt=[{path:"",redirectTo:"/dashboard/products",pathMatch:"full"},{path:"products",component:ht},{path:"orders",component:(()=>{class i{constructor(e,o,n,a){this.router=e,this._dashboard=o,this.matDialog=n,this._snackBar=a,this.orderList=[],this.title="",this.forLocalSearch=[],this.displayedColumns=["more","name","orderDate","totalAmount"],this.pageSize=10,this.length=0}AddOrder(){const e=new m.vA;e.width="1100px",e.data={title:"Add Order"},this.matDialog.open(O,e).afterClosed().subscribe(n=>{})}openSnackBar(e,o){this._snackBar.open(e,o)}getFamilyData(){this.orderList=this._dashboard.getFamily(),this.forLocalSearch=[...this.orderList],this.length=this.orderList.length,this.pagination(1)}localSearch(e,o,n){this.orderList=g.SearchBySpecificKeyInData(e,o,n),o||(this.orderList=[...this.forLocalSearch])}PageChange(e){this.pagination(e.pageIndex+1)}pagination(e){let o=0;e>0&&(o=e*this.pageSize),this.orderList=[...this.forLocalSearch.slice(o-this.pageSize,o)]}ngOnInit(){this.getFamilyData()}ngAfterViewInit(){(0,v.R)(this.inputSearch.nativeElement,"keyup").pipe((0,D.U)(e=>e.target.value),(0,C.b)(400),(0,A.x)()).subscribe(e=>{this.localSearch("name",e,this.forLocalSearch)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.F0),t.Y36(x.s),t.Y36(m.uw),t.Y36(N.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-order"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Zt,5),t.Gf(f.NW,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.inputSearch=n.first),t.iGM(n=t.CRH())&&(o.paginator=n.first)}},decls:32,vars:6,consts:[[1,"w-100"],[1,"d-flex","justify-content-between","align-items-center","searchMargin"],[1,"100"],[1,"d-flex","align-items-center"],[1,"heading"],["mat-mini-fab","","matTooltip","Add Order",1,"ml-2",2,"background","dimgray",3,"click"],[1,"input-group","justify-content-end"],[1,"form-outline"],["mat-input","","type","search","placeholder","Type letter for Search",1,"form-control"],["inputSearch",""],[1,"mat-elevation-z8","ov-auto"],["mat-table","",1,"width-min-100","w-max-content",3,"dataSource"],["matColumnDef","more"],["mat-header-cell","",4,"matHeaderCellDef"],["class","td-more","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","orderDate"],["matColumnDef","totalAmount"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","page"],["MatPaginator",""],["mat-header-cell",""],["mat-cell","",1,"td-more"],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h1",4),t._uU(5,"Orders"),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return o.AddOrder()}),t.TgZ(7,"mat-icon"),t._uU(8,"add"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t._UZ(11,"input",8,9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"table",11),t.ynx(15,12),t.YNc(16,Ct,1,0,"th",13),t.YNc(17,At,3,0,"td",14),t.BQk(),t.ynx(18,15),t.YNc(19,xt,2,0,"th",13),t.YNc(20,Tt,2,1,"td",16),t.BQk(),t.ynx(21,17),t.YNc(22,Mt,2,0,"th",13),t.YNc(23,yt,3,3,"td",16),t.BQk(),t.ynx(24,18),t.YNc(25,qt,2,0,"th",13),t.YNc(26,wt,2,1,"td",16),t.BQk(),t.YNc(27,vt,1,0,"tr",19),t.YNc(28,Dt,1,0,"tr",20),t.qZA(),t.qZA(),t.TgZ(29,"div"),t.TgZ(30,"mat-paginator",21,22),t.NdJ("page",function(a){return o.PageChange(a)}),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(14),t.Q6J("dataSource",o.orderList),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.length)("pageSize",o.pageSize))},directives:[y.lW,P.gM,h.Hw,d.BZ,d.w1,d.fO,d.Dz,d.as,d.nj,f.NW,d.ge,d.ev,d.XQ,d.Gk],pipes:[u.uU],styles:[".paddingHeading[_ngcontent-%COMP%]{padding:0 15px}.searchMargin[_ngcontent-%COMP%]{margin:10px 0}"]}),i})()}];let St=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.ez,ft.m,_.Bz.forChild(bt)],_.Bz]}),i})()}}]);